<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>80s Game Style AR Model Viewer</title>
    <style>
        @font-face {
            font-family: "Maze Line Free";
            src: url("https://db.onlinewebfonts.com/t/8470209f32efadf81ec0ccff6f016f9c.eot");
            src: url("https://db.onlinewebfonts.com/t/8470209f32efadf81ec0ccff6f016f9c.eot?#iefix") format("embedded-opentype"),
                 url("https://db.onlinewebfonts.com/t/8470209f32efadf81ec0ccff6f016f9c.woff2") format("woff2"),
                 url("https://db.onlinewebfonts.com/t/8470209f32efadf81ec0ccff6f016f9c.woff") format("woff"),
                 url("https://db.onlinewebfonts.com/t/8470209f32efadf81ec0ccff6f016f9c.ttf") format("truetype"),
                 url("https://db.onlinewebfonts.com/t/8470209f32efadf81ec0ccff6f016f9c.svg#Maze Line Free") format("svg");
            font-display: swap;
        }

        @import url('https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap');

        body {
            margin: 0;
            padding: 0;
            height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            background: linear-gradient(135deg, #ff0080, #8000ff), url('2d-maze-unisex-two-tone-hoodie.jpg');
            background-size: cover;
            background-blend-mode: overlay;
            font-family: 'Roboto', sans-serif;
            color: white;
        }

        header, main, footer {
            width: 100%;
            text-align: center;
            padding: 12px;
            box-sizing: border-box;
        }

        header {
            background: rgba(0, 0, 0, 0);
            padding: 70px 20px 20px; /* Added top padding for more space */
        }

        header h1 {
            font-size: 6em;
            margin: 0;
            margin-top: 2cm; /* Move the headline lower */
            font-family: "Maze Line Free", sans-serif;
            text-shadow: 
                0 0 5px #ff0080, 
                0 0 10px #ff0080, 
                0 0 15px #ff0080, 
                0 0 20px #ff0080, 
                0 0 25px #ff0080,
                0 0 30px #ff0080,
                0 0 35px #ff0080;
        }

        main {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }

        .textbox {
            background: rgba(0, 0, 0, 0.5);
            border: none;
            border-radius: 5px;
            padding: 10px 20px;
            margin-bottom: 10px;
            font-size: 1.2em;
            color: #ffcc00;
            max-width: 800px;
            width: 100%;
            box-shadow: 0 0 10px #ff0080;
        }

        .ar-container {
            position: relative;
            width: 100%;
            max-width: 800px;
            height: 70vh;
            display: flex;
            justify-content: center;
            align-items: center;
            border: none;
            box-shadow: 0 0 20px #ff0080;
            background: rgba(0, 0, 0, 0.3);
        }

        model-viewer {
            width: 100%;
            height: 100%;
            transform: scale(0.9);
        }

        .ar-info {
            position: absolute;
            bottom: 10px;
            width: 100%;
            text-align: center;
            aria-live: polite;
        }

        .ar-info h3 {
            margin: 0;
            font-size: 1.2em;
            color: #ffcc00;
            text-shadow: none;
            font-family: 'Roboto', sans-serif;
        }

        .navigation {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            display: flex;
            justify-content: space-between;
            width: 100%;
            padding: 0 20px;
            box-sizing: border-box;
            z-index: 1;
        }

        .navigation button {
            background: rgba(255, 255, 255, 0.2);
            border: 2px solid #ffcc00;
            border-radius: 50%;
            cursor: pointer;
            padding: 15px;
            font-size: 4em;
            transition: background 0.3s ease, transform 0.3s ease;
            font-family: 'Roboto', sans-serif;
            color: #ffcc00;
            box-shadow: 0 0 10px #ffcc00;
        }

        .navigation button:hover {
            background: rgba(255, 255, 255, 0.8);
            transform: scale(1.1);
            color: #000;
        }

        footer {
            background: rgba(0, 0, 0, 0.5);
            padding: 10px;
            font-size: 1em;
            color: #ffcc00;
            font-family: 'Roboto', sans-serif;
        }

        .model-textbox {
            background: rgba(0, 0, 0, 0.5);
            border: none;
            border-radius: 5px;
            padding: 10px 20px;
            margin-top: 10px;
            font-size: 1.2em;
            color: #ffcc00;
            max-width: 800px;
            width: 100%;
            box-shadow: 0 0 10px #ff0080;
        }
    </style>
    <script type="module" src="https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js"></script>
</head>
<body>
    <header>
        <h1>MAZE RUN</h1>
    </header>

    <main>
        <div class="textbox" id="textbox">
            Welcome to Maze Run! Use the buttons below to navigate through different Levels. Open them using the small white button on the bottom right. If nessesay adjust the position and scale oth the Maze. Please be carefull and aware of your surroundings, so you dont trip or fall. Try to avoid cheating, I cant stop you but where is the fun in it? :D
        </div>
        <div class="ar-container">
            <div class="navigation">
                <button id="prevButton" aria-label="Previous Model">&#8249;</button>
                <button id="nextButton" aria-label="Next Model">&#8250;</button>
            </div>
            <model-viewer 
                id="model-viewer"
                alt="Lab1"
                ar
                ar-modes="webxr scene-viewer quick-look" 
                environment-image="neutral" 
                auto-rotate
                camera-controls
                animation-name="CubeAction" 
                animation-loop
                loading="lazy">
            </model-viewer>
            <div class="ar-info">
                <h3 id="model-name">Lab1</h3>
            </div>
        </div>
        <div class="model-textbox" id="model-textbox">
            This is Lab1, a basic maze model to get you started.
        </div>
    </main>

    <footer>
        &copy; Leon Körösi IG: Leonkoeroesi
    </footer>

    <script>
        async function checkARCoreCompatibility() {
            const modelViewer = document.getElementById('model-viewer');
            if (!modelViewer) {
                console.error("Model viewer not found.");
                return;
            }

            try {
                const isARCoreSupported = await navigator.xr.isSessionSupported('immersive-ar');
                if (!isARCoreSupported) {
                    modelViewer.removeAttribute('ar');
                    modelViewer.removeAttribute('ar-modes');
                    ;
                }
            } catch (error) {
                console.error('Error checking ARCore compatibility:', error);
               
            }
        }

        const models = ['Lab1.glb', 'Lab2.glb', 'Lab3.glb'];
        const modelNames = ['Lab1', 'Lab2', 'Lab3'];
        const modelTexts = [
            'A basic brick Maze to get you startet. Make it though, thats it. .',
            'A mirror maze dont get spooked by yourself or the Ghosts.',
            'A big hedge maze, get to the center and join the winners party.'
        ];
        let currentIndex = 0;

        function prevModel() {
            currentIndex = (currentIndex - 1 + models.length) % models.length;
            updateModel();
        }

        function nextModel() {
            currentIndex = (currentIndex + 1) % models.length;
            updateModel();
        }

        function updateModel() {
            const modelViewer = document.getElementById('model-viewer');
            if (!modelViewer) {
                console.error("Model viewer not found.");
                return;
            }

            const modelName = document.getElementById('model-name');
            const modelTextbox = document.getElementById('model-textbox');
            modelViewer.setAttribute('src', models[currentIndex]);
            modelViewer.setAttribute('ios-src', modelNames[currentIndex] + '.usdz');
            modelName.innerText = modelNames[currentIndex];
            modelTextbox.innerText = modelTexts[currentIndex];
        }

        document.addEventListener('DOMContentLoaded', () => {
            checkARCoreCompatibility();
            updateModel();

            document.getElementById('prevButton').addEventListener('click', prevModel);
            document.getElementById('nextButton').addEventListener('click', nextModel);
        });
    </script>
</body>
</html>
